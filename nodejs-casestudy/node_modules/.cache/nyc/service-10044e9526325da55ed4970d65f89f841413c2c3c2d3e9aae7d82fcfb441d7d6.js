function cov_2hd8y4m0mm(){var path="C:\\Users\\910271\\Documents\\Practice\\node\\nodejs-casestudy\\services\\service.js";var hash="cbb122a43acfbbc34643237cfcce0000c7da4c13";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\910271\\Documents\\Practice\\node\\nodejs-casestudy\\services\\service.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:3,column:14},end:{line:3,column:43}},"3":{start:{line:5,column:19},end:{line:5,column:44}},"4":{start:{line:6,column:18},end:{line:6,column:43}},"5":{start:{line:7,column:22},end:{line:7,column:51}},"6":{start:{line:9,column:18},end:{line:9,column:48}},"7":{start:{line:12,column:22},end:{line:12,column:77}},"8":{start:{line:13,column:4},end:{line:13,column:43}},"9":{start:{line:14,column:4},end:{line:16,column:5}},"10":{start:{line:15,column:8},end:{line:15,column:21}},"11":{start:{line:17,column:4},end:{line:17,column:21}},"12":{start:{line:21,column:22},end:{line:21,column:44}},"13":{start:{line:22,column:4},end:{line:22,column:43}},"14":{start:{line:23,column:4},end:{line:25,column:5}},"15":{start:{line:24,column:8},end:{line:24,column:21}},"16":{start:{line:26,column:26},end:{line:26,column:81}},"17":{start:{line:27,column:4},end:{line:29,column:5}},"18":{start:{line:28,column:8},end:{line:28,column:21}},"19":{start:{line:30,column:4},end:{line:30,column:21}},"20":{start:{line:34,column:20},end:{line:37,column:6}},"21":{start:{line:39,column:17},end:{line:39,column:41}},"22":{start:{line:40,column:4},end:{line:40,column:62}},"23":{start:{line:42,column:19},end:{line:42,column:39}},"24":{start:{line:43,column:4},end:{line:43,column:18}},"25":{start:{line:47,column:24},end:{line:54,column:6}},"26":{start:{line:56,column:19},end:{line:56,column:43}},"27":{start:{line:57,column:4},end:{line:57,column:18}},"28":{start:{line:61,column:17},end:{line:61,column:58}},"29":{start:{line:62,column:4},end:{line:64,column:5}},"30":{start:{line:63,column:8},end:{line:63,column:21}},"31":{start:{line:65,column:4},end:{line:65,column:16}},"32":{start:{line:69,column:24},end:{line:80,column:6}},"33":{start:{line:82,column:19},end:{line:82,column:43}},"34":{start:{line:83,column:4},end:{line:83,column:18}},"35":{start:{line:84,column:4},end:{line:84,column:18}},"36":{start:{line:88,column:24},end:{line:88,column:83}},"37":{start:{line:90,column:4},end:{line:100,column:7}},"38":{start:{line:102,column:19},end:{line:102,column:43}},"39":{start:{line:103,column:4},end:{line:103,column:18}},"40":{start:{line:108,column:21},end:{line:108,column:71}},"41":{start:{line:109,column:4},end:{line:109,column:20}},"42":{start:{line:110,column:4},end:{line:110,column:25}},"43":{start:{line:110,column:18},end:{line:110,column:25}},"44":{start:{line:111,column:4},end:{line:111,column:20}},"45":{start:{line:116,column:22},end:{line:116,column:46}},"46":{start:{line:117,column:4},end:{line:117,column:85}},"47":{start:{line:117,column:24},end:{line:117,column:85}},"48":{start:{line:119,column:17},end:{line:119,column:36}},"49":{start:{line:121,column:4},end:{line:121,column:57}},"50":{start:{line:121,column:14},end:{line:121,column:57}},"51":{start:{line:122,column:4},end:{line:122,column:16}},"52":{start:{line:126,column:22},end:{line:126,column:46}},"53":{start:{line:127,column:4},end:{line:127,column:85}},"54":{start:{line:127,column:24},end:{line:127,column:85}},"55":{start:{line:129,column:17},end:{line:129,column:36}},"56":{start:{line:130,column:4},end:{line:130,column:61}},"57":{start:{line:130,column:13},end:{line:130,column:61}},"58":{start:{line:132,column:18},end:{line:132,column:38}},"59":{start:{line:133,column:4},end:{line:133,column:17}},"60":{start:{line:137,column:18},end:{line:137,column:31}},"61":{start:{line:138,column:4},end:{line:138,column:17}},"62":{start:{line:142,column:22},end:{line:142,column:46}},"63":{start:{line:143,column:4},end:{line:143,column:85}},"64":{start:{line:143,column:24},end:{line:143,column:85}},"65":{start:{line:145,column:4},end:{line:145,column:16}},"66":{start:{line:147,column:15},end:{line:147,column:19}},"67":{start:{line:148,column:4},end:{line:148,column:21}},"68":{start:{line:150,column:18},end:{line:150,column:38}},"69":{start:{line:151,column:4},end:{line:151,column:17}},"70":{start:{line:155,column:22},end:{line:155,column:50}},"71":{start:{line:156,column:4},end:{line:156,column:85}},"72":{start:{line:156,column:24},end:{line:156,column:85}},"73":{start:{line:158,column:19},end:{line:158,column:42}},"74":{start:{line:159,column:4},end:{line:165,column:5}},"75":{start:{line:160,column:8},end:{line:160,column:24}},"76":{start:{line:161,column:8},end:{line:161,column:29}},"77":{start:{line:162,column:8},end:{line:162,column:37}},"78":{start:{line:164,column:8},end:{line:164,column:39}},"79":{start:{line:169,column:20},end:{line:169,column:37}},"80":{start:{line:170,column:4},end:{line:170,column:19}},"81":{start:{line:173,column:0},end:{line:173,column:32}},"82":{start:{line:174,column:0},end:{line:174,column:26}},"83":{start:{line:175,column:0},end:{line:175,column:28}},"84":{start:{line:177,column:0},end:{line:177,column:30}},"85":{start:{line:178,column:0},end:{line:178,column:36}},"86":{start:{line:179,column:0},end:{line:179,column:30}},"87":{start:{line:180,column:0},end:{line:180,column:30}},"88":{start:{line:181,column:0},end:{line:181,column:54}},"89":{start:{line:182,column:0},end:{line:182,column:50}}},fnMap:{"0":{name:"userExists",decl:{start:{line:11,column:15},end:{line:11,column:25}},loc:{start:{line:11,column:31},end:{line:18,column:1}},line:11},"1":{name:"getUser",decl:{start:{line:20,column:15},end:{line:20,column:22}},loc:{start:{line:20,column:28},end:{line:31,column:1}},line:20},"2":{name:"saveUser",decl:{start:{line:33,column:15},end:{line:33,column:23}},loc:{start:{line:33,column:29},end:{line:44,column:1}},line:33},"3":{name:"saveLoan",decl:{start:{line:46,column:15},end:{line:46,column:23}},loc:{start:{line:46,column:30},end:{line:58,column:1}},line:46},"4":{name:"getLoan",decl:{start:{line:60,column:15},end:{line:60,column:22}},loc:{start:{line:60,column:28},end:{line:66,column:1}},line:60},"5":{name:"saveCustomer",decl:{start:{line:68,column:15},end:{line:68,column:27}},loc:{start:{line:68,column:37},end:{line:85,column:1}},line:68},"6":{name:"updateCustomer",decl:{start:{line:87,column:15},end:{line:87,column:29}},loc:{start:{line:87,column:39},end:{line:105,column:1}},line:87},"7":{name:"getCustomer",decl:{start:{line:107,column:15},end:{line:107,column:26}},loc:{start:{line:107,column:32},end:{line:112,column:1}},line:107},"8":{name:"loginUser",decl:{start:{line:115,column:15},end:{line:115,column:24}},loc:{start:{line:115,column:30},end:{line:123,column:1}},line:115},"9":{name:"registerUser",decl:{start:{line:125,column:15},end:{line:125,column:27}},loc:{start:{line:125,column:33},end:{line:134,column:1}},line:125},"10":{name:"viewLoans",decl:{start:{line:136,column:15},end:{line:136,column:24}},loc:{start:{line:136,column:30},end:{line:139,column:1}},line:136},"11":{name:"applyLoan",decl:{start:{line:141,column:15},end:{line:141,column:24}},loc:{start:{line:141,column:36},end:{line:152,column:1}},line:141},"12":{name:"updateCustomerDetails",decl:{start:{line:154,column:15},end:{line:154,column:36}},loc:{start:{line:154,column:48},end:{line:166,column:1}},line:154},"13":{name:"viewCustomerDetails",decl:{start:{line:168,column:15},end:{line:168,column:34}},loc:{start:{line:168,column:40},end:{line:171,column:1}},line:168}},branchMap:{"0":{loc:{start:{line:14,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:16,column:5}},{start:{line:14,column:4},end:{line:16,column:5}}],line:14},"1":{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:23,column:4},end:{line:25,column:5}}],line:23},"2":{loc:{start:{line:27,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:29,column:5}},{start:{line:27,column:4},end:{line:29,column:5}}],line:27},"3":{loc:{start:{line:27,column:7},end:{line:27,column:35}},type:"binary-expr",locations:[{start:{line:27,column:7},end:{line:27,column:17}},{start:{line:27,column:21},end:{line:27,column:35}}],line:27},"4":{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:62,column:4},end:{line:64,column:5}}],line:62},"5":{loc:{start:{line:110,column:4},end:{line:110,column:25}},type:"if",locations:[{start:{line:110,column:4},end:{line:110,column:25}},{start:{line:110,column:4},end:{line:110,column:25}}],line:110},"6":{loc:{start:{line:117,column:4},end:{line:117,column:85}},type:"if",locations:[{start:{line:117,column:4},end:{line:117,column:85}},{start:{line:117,column:4},end:{line:117,column:85}}],line:117},"7":{loc:{start:{line:121,column:4},end:{line:121,column:57}},type:"if",locations:[{start:{line:121,column:4},end:{line:121,column:57}},{start:{line:121,column:4},end:{line:121,column:57}}],line:121},"8":{loc:{start:{line:127,column:4},end:{line:127,column:85}},type:"if",locations:[{start:{line:127,column:4},end:{line:127,column:85}},{start:{line:127,column:4},end:{line:127,column:85}}],line:127},"9":{loc:{start:{line:130,column:4},end:{line:130,column:61}},type:"if",locations:[{start:{line:130,column:4},end:{line:130,column:61}},{start:{line:130,column:4},end:{line:130,column:61}}],line:130},"10":{loc:{start:{line:143,column:4},end:{line:143,column:85}},type:"if",locations:[{start:{line:143,column:4},end:{line:143,column:85}},{start:{line:143,column:4},end:{line:143,column:85}}],line:143},"11":{loc:{start:{line:156,column:4},end:{line:156,column:85}},type:"if",locations:[{start:{line:156,column:4},end:{line:156,column:85}},{start:{line:156,column:4},end:{line:156,column:85}}],line:156},"12":{loc:{start:{line:159,column:4},end:{line:165,column:5}},type:"if",locations:[{start:{line:159,column:4},end:{line:165,column:5}},{start:{line:159,column:4},end:{line:165,column:5}}],line:159}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cbb122a43acfbbc34643237cfcce0000c7da4c13"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2hd8y4m0mm=function(){return actualCoverage;};}return actualCoverage;}cov_2hd8y4m0mm();const jwt=(cov_2hd8y4m0mm().s[0]++,require('jsonwebtoken'));const bcrypt=(cov_2hd8y4m0mm().s[1]++,require('bcrypt'));const debug=(cov_2hd8y4m0mm().s[2]++,require('debug')('app:basic'));const userModel=(cov_2hd8y4m0mm().s[3]++,require('../models/user'));const loanModel=(cov_2hd8y4m0mm().s[4]++,require('../models/loan'));const customerModel=(cov_2hd8y4m0mm().s[5]++,require('../models/customer'));const BaseError=(cov_2hd8y4m0mm().s[6]++,require('../middleware/error'));async function userExists(user){cov_2hd8y4m0mm().f[0]++;const foundUser=(cov_2hd8y4m0mm().s[7]++,await userModel.User.findOne({username:user.username}));cov_2hd8y4m0mm().s[8]++;console.log('foundUser: '+foundUser);cov_2hd8y4m0mm().s[9]++;if(!foundUser){cov_2hd8y4m0mm().b[0][0]++;cov_2hd8y4m0mm().s[10]++;return false;}else{cov_2hd8y4m0mm().b[0][1]++;}cov_2hd8y4m0mm().s[11]++;return foundUser;}async function getUser(user){cov_2hd8y4m0mm().f[1]++;const foundUser=(cov_2hd8y4m0mm().s[12]++,await userExists(user));cov_2hd8y4m0mm().s[13]++;console.log('foundUser: '+foundUser);cov_2hd8y4m0mm().s[14]++;if(!foundUser){cov_2hd8y4m0mm().b[1][0]++;cov_2hd8y4m0mm().s[15]++;return false;}else{cov_2hd8y4m0mm().b[1][1]++;}const validPassword=(cov_2hd8y4m0mm().s[16]++,await bcrypt.compare(user.password,foundUser.password));cov_2hd8y4m0mm().s[17]++;if((cov_2hd8y4m0mm().b[3][0]++,!foundUser)||(cov_2hd8y4m0mm().b[3][1]++,!validPassword)){cov_2hd8y4m0mm().b[2][0]++;cov_2hd8y4m0mm().s[18]++;return false;}else{cov_2hd8y4m0mm().b[2][1]++;}cov_2hd8y4m0mm().s[19]++;return foundUser;}async function saveUser(user){cov_2hd8y4m0mm().f[2]++;const newUser=(cov_2hd8y4m0mm().s[20]++,new userModel.User({username:user.username,password:user.password}));const salt=(cov_2hd8y4m0mm().s[21]++,await bcrypt.genSalt(10));cov_2hd8y4m0mm().s[22]++;newUser.password=await bcrypt.hash(user.password,salt);const result=(cov_2hd8y4m0mm().s[23]++,await newUser.save());cov_2hd8y4m0mm().s[24]++;return result;}async function saveLoan(loan){cov_2hd8y4m0mm().f[3]++;const appliedLoan=(cov_2hd8y4m0mm().s[25]++,new loanModel.Loan({user:loan.user,loan_type:loan.loan_type,loan_amount:loan.loan_amount,date:loan.date,interest:loan.interest,duration:loan.duration}));const result=(cov_2hd8y4m0mm().s[26]++,await appliedLoan.save());cov_2hd8y4m0mm().s[27]++;debug(result);}async function getLoan(user){cov_2hd8y4m0mm().f[4]++;const loan=(cov_2hd8y4m0mm().s[28]++,await loanModel.Loan.find({user:user}));cov_2hd8y4m0mm().s[29]++;if(!loan){cov_2hd8y4m0mm().b[4][0]++;cov_2hd8y4m0mm().s[30]++;return false;}else{cov_2hd8y4m0mm().b[4][1]++;}cov_2hd8y4m0mm().s[31]++;return loan;}async function saveCustomer(customer){cov_2hd8y4m0mm().f[5]++;const newCustomer=(cov_2hd8y4m0mm().s[32]++,new customerModel.Customer({user:customer.user,name:customer.name,address:customer.address,state:customer.state,country:customer.country,email:customer.email,pan:customer.pan,contact:customer.contact,dob:customer.dob,account_type:customer.account_type}));const result=(cov_2hd8y4m0mm().s[33]++,await newCustomer.save());cov_2hd8y4m0mm().s[34]++;debug(result);cov_2hd8y4m0mm().s[35]++;return result;}async function updateCustomer(customer){cov_2hd8y4m0mm().f[6]++;const oldCustomer=(cov_2hd8y4m0mm().s[36]++,await customerModel.Customer.findOne({user:customer.user}));cov_2hd8y4m0mm().s[37]++;oldCustomer.set({name:customer.name,address:customer.address,state:customer.state,country:customer.country,email:customer.email,pan:customer.pan,contact:customer.contact,dob:customer.dob,account_type:customer.account_type});const result=(cov_2hd8y4m0mm().s[38]++,await oldCustomer.save());cov_2hd8y4m0mm().s[39]++;debug(result);}async function getCustomer(user){cov_2hd8y4m0mm().f[7]++;const customer=(cov_2hd8y4m0mm().s[40]++,await customerModel.Customer.findOne({user:user}));cov_2hd8y4m0mm().s[41]++;debug(customer);cov_2hd8y4m0mm().s[42]++;if(!customer){cov_2hd8y4m0mm().b[5][0]++;cov_2hd8y4m0mm().s[43]++;return;}else{cov_2hd8y4m0mm().b[5][1]++;}cov_2hd8y4m0mm().s[44]++;return customer;}async function loginUser(body){cov_2hd8y4m0mm().f[8]++;const validated=(cov_2hd8y4m0mm().s[45]++,userModel.validate(body));cov_2hd8y4m0mm().s[46]++;if(validated.error){cov_2hd8y4m0mm().b[6][0]++;cov_2hd8y4m0mm().s[47]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[6][1]++;}const user=(cov_2hd8y4m0mm().s[48]++,await getUser(body));cov_2hd8y4m0mm().s[49]++;if(!user){cov_2hd8y4m0mm().b[7][0]++;cov_2hd8y4m0mm().s[50]++;throw new BaseError(401,'User not found');}else{cov_2hd8y4m0mm().b[7][1]++;}cov_2hd8y4m0mm().s[51]++;return user;}async function registerUser(body){cov_2hd8y4m0mm().f[9]++;const validated=(cov_2hd8y4m0mm().s[52]++,userModel.validate(body));cov_2hd8y4m0mm().s[53]++;if(validated.error){cov_2hd8y4m0mm().b[8][0]++;cov_2hd8y4m0mm().s[54]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[8][1]++;}const user=(cov_2hd8y4m0mm().s[55]++,await getUser(body));cov_2hd8y4m0mm().s[56]++;if(user){cov_2hd8y4m0mm().b[9][0]++;cov_2hd8y4m0mm().s[57]++;throw new BaseError(400,'User already exists');}else{cov_2hd8y4m0mm().b[9][1]++;}const saved=(cov_2hd8y4m0mm().s[58]++,await saveUser(body));cov_2hd8y4m0mm().s[59]++;return saved;}async function viewLoans(body){cov_2hd8y4m0mm().f[10]++;const loans=(cov_2hd8y4m0mm().s[60]++,getLoan(body));cov_2hd8y4m0mm().s[61]++;return loans;}async function applyLoan(body,user){cov_2hd8y4m0mm().f[11]++;const validated=(cov_2hd8y4m0mm().s[62]++,loanModel.validate(body));cov_2hd8y4m0mm().s[63]++;if(validated.error){cov_2hd8y4m0mm().b[10][0]++;cov_2hd8y4m0mm().s[64]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[10][1]++;}cov_2hd8y4m0mm().s[65]++;debug(user);let loan=(cov_2hd8y4m0mm().s[66]++,body);cov_2hd8y4m0mm().s[67]++;loan.user=user;const saved=(cov_2hd8y4m0mm().s[68]++,await saveLoan(loan));cov_2hd8y4m0mm().s[69]++;return saved;}async function updateCustomerDetails(body,user){cov_2hd8y4m0mm().f[12]++;const validated=(cov_2hd8y4m0mm().s[70]++,customerModel.validate(body));cov_2hd8y4m0mm().s[71]++;if(validated.error){cov_2hd8y4m0mm().b[11][0]++;cov_2hd8y4m0mm().s[72]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[11][1]++;}let customer=(cov_2hd8y4m0mm().s[73]++,await getCustomer(user));cov_2hd8y4m0mm().s[74]++;if(!customer){cov_2hd8y4m0mm().b[12][0]++;cov_2hd8y4m0mm().s[75]++;customer=body;cov_2hd8y4m0mm().s[76]++;customer.user=user;cov_2hd8y4m0mm().s[77]++;await saveCustomer(customer);}else{cov_2hd8y4m0mm().b[12][1]++;cov_2hd8y4m0mm().s[78]++;await updateCustomer(customer);}}async function viewCustomerDetails(user){cov_2hd8y4m0mm().f[13]++;const details=(cov_2hd8y4m0mm().s[79]++,getCustomer(user));cov_2hd8y4m0mm().s[80]++;return details;}cov_2hd8y4m0mm().s[81]++;exports.userExists=userExists;cov_2hd8y4m0mm().s[82]++;exports.getUser=getUser;cov_2hd8y4m0mm().s[83]++;exports.saveUser=saveUser;cov_2hd8y4m0mm().s[84]++;exports.loginUser=loginUser;cov_2hd8y4m0mm().s[85]++;exports.registerUser=registerUser;cov_2hd8y4m0mm().s[86]++;exports.viewLoans=viewLoans;cov_2hd8y4m0mm().s[87]++;exports.applyLoan=applyLoan;cov_2hd8y4m0mm().s[88]++;exports.updateCustomerDetails=updateCustomerDetails;cov_2hd8y4m0mm().s[89]++;exports.viewCustomerDetails=viewCustomerDetails;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2UuanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsImJjcnlwdCIsImRlYnVnIiwidXNlck1vZGVsIiwibG9hbk1vZGVsIiwiY3VzdG9tZXJNb2RlbCIsIkJhc2VFcnJvciIsInVzZXJFeGlzdHMiLCJ1c2VyIiwiZm91bmRVc2VyIiwiVXNlciIsImZpbmRPbmUiLCJ1c2VybmFtZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRVc2VyIiwidmFsaWRQYXNzd29yZCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInNhdmVVc2VyIiwibmV3VXNlciIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsInJlc3VsdCIsInNhdmUiLCJzYXZlTG9hbiIsImxvYW4iLCJhcHBsaWVkTG9hbiIsIkxvYW4iLCJsb2FuX3R5cGUiLCJsb2FuX2Ftb3VudCIsImRhdGUiLCJpbnRlcmVzdCIsImR1cmF0aW9uIiwiZ2V0TG9hbiIsImZpbmQiLCJzYXZlQ3VzdG9tZXIiLCJjdXN0b21lciIsIm5ld0N1c3RvbWVyIiwiQ3VzdG9tZXIiLCJuYW1lIiwiYWRkcmVzcyIsInN0YXRlIiwiY291bnRyeSIsImVtYWlsIiwicGFuIiwiY29udGFjdCIsImRvYiIsImFjY291bnRfdHlwZSIsInVwZGF0ZUN1c3RvbWVyIiwib2xkQ3VzdG9tZXIiLCJzZXQiLCJnZXRDdXN0b21lciIsImxvZ2luVXNlciIsImJvZHkiLCJ2YWxpZGF0ZWQiLCJ2YWxpZGF0ZSIsImVycm9yIiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJyZWdpc3RlclVzZXIiLCJzYXZlZCIsInZpZXdMb2FucyIsImxvYW5zIiwiYXBwbHlMb2FuIiwidXBkYXRlQ3VzdG9tZXJEZXRhaWxzIiwidmlld0N1c3RvbWVyRGV0YWlscyIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJzaFdBZVk7MkZBZlosS0FBTUEsQ0FBQUEsR0FBRywwQkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFULENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBR0QsT0FBTyxD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eUJBQ0FjLE9BQU8sQ0FBQ1AsWUFBUixDQUF1QkEsWUFBdkIsQyx5QkFDQU8sT0FBTyxDQUFDTCxTQUFSLENBQW9CQSxTQUFwQixDLHlCQUNBSyxPQUFPLENBQUNILFNBQVIsQ0FBb0JBLFNBQXBCLEMseUJBQ0FHLE9BQU8sQ0FBQ0YscUJBQVIsQ0FBZ0NBLHFCQUFoQyxDLHlCQUNBRSxPQUFPLENBQUNELG1CQUFSLENBQThCQSxtQkFBOUIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0Jyk7XHJcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnYXBwOmJhc2ljJyk7XHJcblxyXG5jb25zdCB1c2VyTW9kZWwgID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXInKTtcclxuY29uc3QgbG9hbk1vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL2xvYW4nKTtcclxuY29uc3QgY3VzdG9tZXJNb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9jdXN0b21lcicpO1xyXG5cclxuY29uc3QgQmFzZUVycm9yID0gcmVxdWlyZSgnLi4vbWlkZGxld2FyZS9lcnJvcicpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXNlckV4aXN0cyh1c2VyKXtcclxuICAgIGNvbnN0IGZvdW5kVXNlciA9IGF3YWl0IHVzZXJNb2RlbC5Vc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiB1c2VyLnVzZXJuYW1lfSk7XHJcbiAgICBjb25zb2xlLmxvZygnZm91bmRVc2VyOiAnICsgZm91bmRVc2VyKTtcclxuICAgIGlmKCFmb3VuZFVzZXIpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb3VuZFVzZXI7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXIodXNlcil7XHJcbiAgICBjb25zdCBmb3VuZFVzZXIgPSBhd2FpdCB1c2VyRXhpc3RzKHVzZXIpO1xyXG4gICAgY29uc29sZS5sb2coJ2ZvdW5kVXNlcjogJyArIGZvdW5kVXNlcik7XHJcbiAgICBpZighZm91bmRVc2VyKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2YWxpZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUodXNlci5wYXNzd29yZCwgZm91bmRVc2VyLnBhc3N3b3JkKTtcclxuICAgIGlmKCFmb3VuZFVzZXIgfHwgIXZhbGlkUGFzc3dvcmQpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb3VuZFVzZXI7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXIpe1xyXG4gICAgY29uc3QgbmV3VXNlciA9IG5ldyB1c2VyTW9kZWwuVXNlcih7XHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmRcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcclxuICAgIG5ld1VzZXIucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCh1c2VyLnBhc3N3b3JkLCBzYWx0KTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmVMb2FuKGxvYW4pIHtcclxuICAgIGNvbnN0IGFwcGxpZWRMb2FuID0gbmV3IGxvYW5Nb2RlbC5Mb2FuKHtcclxuICAgICAgICB1c2VyOiBsb2FuLnVzZXIsXHJcbiAgICAgICAgbG9hbl90eXBlOiBsb2FuLmxvYW5fdHlwZSxcclxuICAgICAgICBsb2FuX2Ftb3VudDogbG9hbi5sb2FuX2Ftb3VudCxcclxuICAgICAgICBkYXRlOiBsb2FuLmRhdGUsXHJcbiAgICAgICAgaW50ZXJlc3Q6IGxvYW4uaW50ZXJlc3QsXHJcbiAgICAgICAgZHVyYXRpb246IGxvYW4uZHVyYXRpb25cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwcGxpZWRMb2FuLnNhdmUoKTtcclxuICAgIGRlYnVnKHJlc3VsdCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldExvYW4odXNlcil7XHJcbiAgICBjb25zdCBsb2FuID0gYXdhaXQgbG9hbk1vZGVsLkxvYW4uZmluZCh7IHVzZXI6IHVzZXIgfSk7XHJcbiAgICBpZighbG9hbil7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxvYW47XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmVDdXN0b21lcihjdXN0b21lcil7XHJcbiAgICBjb25zdCBuZXdDdXN0b21lciA9IG5ldyBjdXN0b21lck1vZGVsLkN1c3RvbWVyKHtcclxuICAgICAgICB1c2VyOiBjdXN0b21lci51c2VyLFxyXG4gICAgICAgIG5hbWU6IGN1c3RvbWVyLm5hbWUsXHJcbiAgICAgICAgYWRkcmVzczogY3VzdG9tZXIuYWRkcmVzcyxcclxuICAgICAgICBzdGF0ZTogY3VzdG9tZXIuc3RhdGUsXHJcbiAgICAgICAgY291bnRyeTogY3VzdG9tZXIuY291bnRyeSxcclxuICAgICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXHJcbiAgICAgICAgcGFuOiBjdXN0b21lci5wYW4sXHJcbiAgICAgICAgY29udGFjdDogY3VzdG9tZXIuY29udGFjdCxcclxuICAgICAgICBkb2I6IGN1c3RvbWVyLmRvYixcclxuICAgICAgICBhY2NvdW50X3R5cGU6IGN1c3RvbWVyLmFjY291bnRfdHlwZVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3Q3VzdG9tZXIuc2F2ZSgpO1xyXG4gICAgZGVidWcocmVzdWx0KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbWVyKGN1c3RvbWVyKXtcclxuICAgIGNvbnN0IG9sZEN1c3RvbWVyID0gYXdhaXQgY3VzdG9tZXJNb2RlbC5DdXN0b21lci5maW5kT25lKHt1c2VyOiBjdXN0b21lci51c2VyfSk7XHJcblxyXG4gICAgb2xkQ3VzdG9tZXIuc2V0KHtcclxuICAgICAgICBuYW1lOiBjdXN0b21lci5uYW1lLFxyXG4gICAgICAgIGFkZHJlc3M6IGN1c3RvbWVyLmFkZHJlc3MsXHJcbiAgICAgICAgc3RhdGU6IGN1c3RvbWVyLnN0YXRlLFxyXG4gICAgICAgIGNvdW50cnk6IGN1c3RvbWVyLmNvdW50cnksXHJcbiAgICAgICAgZW1haWw6IGN1c3RvbWVyLmVtYWlsLFxyXG4gICAgICAgIHBhbjogY3VzdG9tZXIucGFuLFxyXG4gICAgICAgIGNvbnRhY3Q6IGN1c3RvbWVyLmNvbnRhY3QsXHJcbiAgICAgICAgZG9iOiBjdXN0b21lci5kb2IsXHJcbiAgICAgICAgYWNjb3VudF90eXBlOiBjdXN0b21lci5hY2NvdW50X3R5cGVcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9sZEN1c3RvbWVyLnNhdmUoKTtcclxuICAgIGRlYnVnKHJlc3VsdCk7XHJcblxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRDdXN0b21lcih1c2VyKXtcclxuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgY3VzdG9tZXJNb2RlbC5DdXN0b21lci5maW5kT25lKHt1c2VyOiB1c2VyfSk7XHJcbiAgICBkZWJ1ZyhjdXN0b21lcik7XHJcbiAgICBpZighY3VzdG9tZXIpIHJldHVybjtcclxuICAgIHJldHVybiBjdXN0b21lcjtcclxufVxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvZ2luVXNlcihib2R5KXtcclxuICAgIGNvbnN0IHZhbGlkYXRlZCA9IHVzZXJNb2RlbC52YWxpZGF0ZShib2R5KTtcclxuICAgIGlmKHZhbGlkYXRlZC5lcnJvcikgdGhyb3cgbmV3IEJhc2VFcnJvcig0MDAsIHZhbGlkYXRlZC5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xyXG4gICAgXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlcihib2R5KTtcclxuXHJcbiAgICBpZighdXNlcikgdGhyb3cgbmV3IEJhc2VFcnJvcig0MDEsICdVc2VyIG5vdCBmb3VuZCcpO1xyXG4gICAgcmV0dXJuIHVzZXI7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihib2R5KXtcclxuICAgIGNvbnN0IHZhbGlkYXRlZCA9IHVzZXJNb2RlbC52YWxpZGF0ZShib2R5KTtcclxuICAgIGlmKHZhbGlkYXRlZC5lcnJvcikgdGhyb3cgbmV3IEJhc2VFcnJvcig0MDAsIHZhbGlkYXRlZC5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyKGJvZHkpO1xyXG4gICAgaWYodXNlcikgdGhyb3cgbmV3IEJhc2VFcnJvcig0MDAsICdVc2VyIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZVVzZXIoYm9keSk7XHJcbiAgICByZXR1cm4gc2F2ZWQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHZpZXdMb2Fucyhib2R5KXtcclxuICAgIGNvbnN0IGxvYW5zID0gZ2V0TG9hbihib2R5KTtcclxuICAgIHJldHVybiBsb2FucztcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYXBwbHlMb2FuKGJvZHksIHVzZXIpe1xyXG4gICAgY29uc3QgdmFsaWRhdGVkID0gbG9hbk1vZGVsLnZhbGlkYXRlKGJvZHkpO1xyXG4gICAgaWYodmFsaWRhdGVkLmVycm9yKSB0aHJvdyBuZXcgQmFzZUVycm9yKDQwMCwgdmFsaWRhdGVkLmVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XHJcblxyXG4gICAgZGVidWcodXNlcik7XHJcblxyXG4gICAgbGV0IGxvYW4gPSBib2R5O1xyXG4gICAgbG9hbi51c2VyID0gdXNlcjtcclxuXHJcbiAgICBjb25zdCBzYXZlZCA9IGF3YWl0IHNhdmVMb2FuKGxvYW4pO1xyXG4gICAgcmV0dXJuIHNhdmVkO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDdXN0b21lckRldGFpbHMoYm9keSwgdXNlcil7XHJcbiAgICBjb25zdCB2YWxpZGF0ZWQgPSBjdXN0b21lck1vZGVsLnZhbGlkYXRlKGJvZHkpO1xyXG4gICAgaWYodmFsaWRhdGVkLmVycm9yKSB0aHJvdyBuZXcgQmFzZUVycm9yKDQwMCwgdmFsaWRhdGVkLmVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XHJcblxyXG4gICAgbGV0IGN1c3RvbWVyID0gYXdhaXQgZ2V0Q3VzdG9tZXIodXNlcik7XHJcbiAgICBpZighY3VzdG9tZXIpe1xyXG4gICAgICAgIGN1c3RvbWVyID0gYm9keTtcclxuICAgICAgICBjdXN0b21lci51c2VyID0gdXNlcjtcclxuICAgICAgICBhd2FpdCBzYXZlQ3VzdG9tZXIoY3VzdG9tZXIpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgYXdhaXQgdXBkYXRlQ3VzdG9tZXIoY3VzdG9tZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2aWV3Q3VzdG9tZXJEZXRhaWxzKHVzZXIpe1xyXG4gICAgY29uc3QgZGV0YWlscyA9IGdldEN1c3RvbWVyKHVzZXIpO1xyXG4gICAgcmV0dXJuIGRldGFpbHM7XHJcbn1cclxuXHJcbmV4cG9ydHMudXNlckV4aXN0cyA9IHVzZXJFeGlzdHM7XHJcbmV4cG9ydHMuZ2V0VXNlciA9IGdldFVzZXI7XHJcbmV4cG9ydHMuc2F2ZVVzZXIgPSBzYXZlVXNlcjtcclxuXHJcbmV4cG9ydHMubG9naW5Vc2VyID0gbG9naW5Vc2VyO1xyXG5leHBvcnRzLnJlZ2lzdGVyVXNlciA9IHJlZ2lzdGVyVXNlcjtcclxuZXhwb3J0cy52aWV3TG9hbnMgPSB2aWV3TG9hbnM7XHJcbmV4cG9ydHMuYXBwbHlMb2FuID0gYXBwbHlMb2FuO1xyXG5leHBvcnRzLnVwZGF0ZUN1c3RvbWVyRGV0YWlscyA9IHVwZGF0ZUN1c3RvbWVyRGV0YWlscztcclxuZXhwb3J0cy52aWV3Q3VzdG9tZXJEZXRhaWxzID0gdmlld0N1c3RvbWVyRGV0YWlsczsiXX0=