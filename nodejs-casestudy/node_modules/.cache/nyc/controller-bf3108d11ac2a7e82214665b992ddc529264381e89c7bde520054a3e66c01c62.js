function cov_235bhxv6r8(){var path="C:\\Users\\910271\\Documents\\Practice\\node\\nodejs-casestudy\\controllers\\controller.js";var hash="dfaecad47617ac796382e4603d3d8ab7454be62e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\910271\\Documents\\Practice\\node\\nodejs-casestudy\\controllers\\controller.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:3,column:15},end:{line:3,column:31}},"3":{start:{line:5,column:12},end:{line:5,column:35}},"4":{start:{line:6,column:16},end:{line:6,column:49}},"5":{start:{line:7,column:13},end:{line:7,column:45}},"6":{start:{line:8,column:18},end:{line:8,column:43}},"7":{start:{line:12,column:17},end:{line:20,column:6}},"8":{start:{line:14,column:22},end:{line:14,column:46}},"9":{start:{line:15,column:8},end:{line:15,column:40}},"10":{start:{line:16,column:8},end:{line:16,column:49}},"11":{start:{line:19,column:8},end:{line:19,column:64}},"12":{start:{line:24,column:4},end:{line:30,column:7}},"13":{start:{line:26,column:8},end:{line:26,column:48}},"14":{start:{line:29,column:8},end:{line:29,column:64}},"15":{start:{line:34,column:4},end:{line:34,column:33}},"16":{start:{line:35,column:4},end:{line:35,column:54}},"17":{start:{line:40,column:18},end:{line:46,column:6}},"18":{start:{line:42,column:8},end:{line:42,column:36}},"19":{start:{line:45,column:8},end:{line:45,column:64}},"20":{start:{line:52,column:4},end:{line:57,column:7}},"21":{start:{line:54,column:8},end:{line:54,column:49}},"22":{start:{line:56,column:8},end:{line:56,column:64}},"23":{start:{line:62,column:4},end:{line:67,column:7}},"24":{start:{line:64,column:8},end:{line:64,column:57}},"25":{start:{line:66,column:8},end:{line:66,column:64}},"26":{start:{line:71,column:4},end:{line:76,column:7}},"27":{start:{line:73,column:8},end:{line:73,column:39}},"28":{start:{line:75,column:8},end:{line:75,column:64}},"29":{start:{line:79,column:0},end:{line:79,column:22}},"30":{start:{line:80,column:0},end:{line:80,column:36}},"31":{start:{line:81,column:0},end:{line:81,column:32}},"32":{start:{line:82,column:0},end:{line:82,column:30}},"33":{start:{line:83,column:0},end:{line:83,column:30}},"34":{start:{line:84,column:0},end:{line:84,column:40}},"35":{start:{line:85,column:0},end:{line:85,column:50}}},fnMap:{"0":{name:"login",decl:{start:{line:10,column:15},end:{line:10,column:20}},loc:{start:{line:10,column:30},end:{line:21,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:19},end:{line:17,column:5}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:11},end:{line:18,column:12}},loc:{start:{line:18,column:20},end:{line:20,column:5}},line:18},"3":{name:"registerUser",decl:{start:{line:23,column:15},end:{line:23,column:27}},loc:{start:{line:23,column:37},end:{line:31,column:1}},line:23},"4":{name:"(anonymous_4)",decl:{start:{line:25,column:10},end:{line:25,column:11}},loc:{start:{line:25,column:16},end:{line:27,column:5}},line:25},"5":{name:"(anonymous_5)",decl:{start:{line:28,column:11},end:{line:28,column:12}},loc:{start:{line:28,column:22},end:{line:30,column:5}},line:28},"6":{name:"logoutUser",decl:{start:{line:33,column:15},end:{line:33,column:25}},loc:{start:{line:33,column:35},end:{line:36,column:1}},line:33},"7":{name:"viewLoans",decl:{start:{line:38,column:15},end:{line:38,column:24}},loc:{start:{line:38,column:34},end:{line:48,column:1}},line:38},"8":{name:"(anonymous_8)",decl:{start:{line:41,column:10},end:{line:41,column:11}},loc:{start:{line:41,column:21},end:{line:43,column:5}},line:41},"9":{name:"(anonymous_9)",decl:{start:{line:44,column:11},end:{line:44,column:12}},loc:{start:{line:44,column:22},end:{line:46,column:5}},line:44},"10":{name:"applyLoan",decl:{start:{line:50,column:15},end:{line:50,column:24}},loc:{start:{line:50,column:34},end:{line:59,column:1}},line:50},"11":{name:"(anonymous_11)",decl:{start:{line:53,column:10},end:{line:53,column:11}},loc:{start:{line:53,column:16},end:{line:55,column:5}},line:53},"12":{name:"(anonymous_12)",decl:{start:{line:55,column:13},end:{line:55,column:14}},loc:{start:{line:55,column:24},end:{line:57,column:5}},line:55},"13":{name:"updateCustomer",decl:{start:{line:61,column:15},end:{line:61,column:29}},loc:{start:{line:61,column:39},end:{line:68,column:1}},line:61},"14":{name:"(anonymous_14)",decl:{start:{line:63,column:10},end:{line:63,column:11}},loc:{start:{line:63,column:16},end:{line:65,column:5}},line:63},"15":{name:"(anonymous_15)",decl:{start:{line:65,column:13},end:{line:65,column:14}},loc:{start:{line:65,column:24},end:{line:67,column:5}},line:65},"16":{name:"viewCustomerDetails",decl:{start:{line:70,column:15},end:{line:70,column:34}},loc:{start:{line:70,column:44},end:{line:77,column:1}},line:70},"17":{name:"(anonymous_17)",decl:{start:{line:72,column:10},end:{line:72,column:11}},loc:{start:{line:72,column:24},end:{line:74,column:5}},line:72},"18":{name:"(anonymous_18)",decl:{start:{line:74,column:13},end:{line:74,column:14}},loc:{start:{line:74,column:24},end:{line:76,column:5}},line:74}},branchMap:{"0":{loc:{start:{line:19,column:19},end:{line:19,column:42}},type:"binary-expr",locations:[{start:{line:19,column:19},end:{line:19,column:35}},{start:{line:19,column:39},end:{line:19,column:42}}],line:19},"1":{loc:{start:{line:29,column:19},end:{line:29,column:42}},type:"binary-expr",locations:[{start:{line:29,column:19},end:{line:29,column:35}},{start:{line:29,column:39},end:{line:29,column:42}}],line:29},"2":{loc:{start:{line:45,column:19},end:{line:45,column:42}},type:"binary-expr",locations:[{start:{line:45,column:19},end:{line:45,column:35}},{start:{line:45,column:39},end:{line:45,column:42}}],line:45},"3":{loc:{start:{line:56,column:19},end:{line:56,column:42}},type:"binary-expr",locations:[{start:{line:56,column:19},end:{line:56,column:35}},{start:{line:56,column:39},end:{line:56,column:42}}],line:56},"4":{loc:{start:{line:66,column:19},end:{line:66,column:42}},type:"binary-expr",locations:[{start:{line:66,column:19},end:{line:66,column:35}},{start:{line:66,column:39},end:{line:66,column:42}}],line:66},"5":{loc:{start:{line:75,column:19},end:{line:75,column:42}},type:"binary-expr",locations:[{start:{line:75,column:19},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:42}}],line:75}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dfaecad47617ac796382e4603d3d8ab7454be62e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_235bhxv6r8=function(){return actualCoverage;};}return actualCoverage;}cov_235bhxv6r8();const express=(cov_235bhxv6r8().s[0]++,require('express'));const mongoose=(cov_235bhxv6r8().s[1]++,require('mongoose'));const router=(cov_235bhxv6r8().s[2]++,express.Router());const jwt=(cov_235bhxv6r8().s[3]++,require('jsonwebtoken'));const service=(cov_235bhxv6r8().s[4]++,require('../services/service.js'));const auth=(cov_235bhxv6r8().s[5]++,require('../middleware/auth.js'));const{User}=(cov_235bhxv6r8().s[6]++,require('../models/user'));async function login(req,res){cov_235bhxv6r8().f[0]++;const user=(cov_235bhxv6r8().s[7]++,await service.loginUser(req.body).then(user=>{cov_235bhxv6r8().f[1]++;const token=(cov_235bhxv6r8().s[8]++,user.generateAuthToken());cov_235bhxv6r8().s[9]++;res.cookie('auth-token',token);cov_235bhxv6r8().s[10]++;res.status(200).send('Login successful');}).catch(error=>{cov_235bhxv6r8().f[2]++;cov_235bhxv6r8().s[11]++;res.status((cov_235bhxv6r8().b[0][0]++,error.statusCode)||(cov_235bhxv6r8().b[0][1]++,400)).send(error.message);}));}async function registerUser(req,res){cov_235bhxv6r8().f[3]++;cov_235bhxv6r8().s[12]++;await service.registerUser(req.body).then(()=>{cov_235bhxv6r8().f[4]++;cov_235bhxv6r8().s[13]++;res.status(200).send('User registered');}).catch(error=>{cov_235bhxv6r8().f[5]++;cov_235bhxv6r8().s[14]++;res.status((cov_235bhxv6r8().b[1][0]++,error.statusCode)||(cov_235bhxv6r8().b[1][1]++,400)).send(error.message);});}async function logoutUser(req,res){cov_235bhxv6r8().f[6]++;cov_235bhxv6r8().s[15]++;res.cookie('auth-token','');cov_235bhxv6r8().s[16]++;res.status(200).send('You have been logged out');}async function viewLoans(req,res){cov_235bhxv6r8().f[7]++;const loans=(cov_235bhxv6r8().s[17]++,await service.viewLoans(req.user).then(loans=>{cov_235bhxv6r8().f[8]++;cov_235bhxv6r8().s[18]++;res.status(200).send(loans);}).catch(error=>{cov_235bhxv6r8().f[9]++;cov_235bhxv6r8().s[19]++;res.status((cov_235bhxv6r8().b[2][0]++,error.statusCode)||(cov_235bhxv6r8().b[2][1]++,400)).send(error.message);}));}async function applyLoan(req,res){cov_235bhxv6r8().f[10]++;cov_235bhxv6r8().s[20]++;await service.applyLoan(req.body,req.user).then(()=>{cov_235bhxv6r8().f[11]++;cov_235bhxv6r8().s[21]++;res.status(200).send('Applied for loan');}).catch(error=>{cov_235bhxv6r8().f[12]++;cov_235bhxv6r8().s[22]++;res.status((cov_235bhxv6r8().b[3][0]++,error.statusCode)||(cov_235bhxv6r8().b[3][1]++,400)).send(error.message);});}async function updateCustomer(req,res){cov_235bhxv6r8().f[13]++;cov_235bhxv6r8().s[23]++;await service.updateCustomerDetails(req.body,req.user).then(()=>{cov_235bhxv6r8().f[14]++;cov_235bhxv6r8().s[24]++;res.status(200).send('Customer details updated');}).catch(error=>{cov_235bhxv6r8().f[15]++;cov_235bhxv6r8().s[25]++;res.status((cov_235bhxv6r8().b[4][0]++,error.statusCode)||(cov_235bhxv6r8().b[4][1]++,400)).send(error.message);});}async function viewCustomerDetails(req,res){cov_235bhxv6r8().f[16]++;cov_235bhxv6r8().s[26]++;await service.viewCustomerDetails(req.user).then(customer=>{cov_235bhxv6r8().f[17]++;cov_235bhxv6r8().s[27]++;res.status(200).send(customer);}).catch(error=>{cov_235bhxv6r8().f[18]++;cov_235bhxv6r8().s[28]++;res.status((cov_235bhxv6r8().b[5][0]++,error.statusCode)||(cov_235bhxv6r8().b[5][1]++,400)).send(error.message);});}cov_235bhxv6r8().s[29]++;exports.login=login;cov_235bhxv6r8().s[30]++;exports.registerUser=registerUser;cov_235bhxv6r8().s[31]++;exports.logoutUser=logoutUser;cov_235bhxv6r8().s[32]++;exports.viewLoans=viewLoans;cov_235bhxv6r8().s[33]++;exports.applyLoan=applyLoan;cov_235bhxv6r8().s[34]++;exports.updateCustomer=updateCustomer;cov_235bhxv6r8().s[35]++;exports.viewCustomerDetails=viewCustomerDetails;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJtb25nb29zZSIsInJvdXRlciIsIlJvdXRlciIsImp3dCIsInNlcnZpY2UiLCJhdXRoIiwiVXNlciIsImxvZ2luIiwicmVxIiwicmVzIiwidXNlciIsImxvZ2luVXNlciIsImJvZHkiLCJ0aGVuIiwidG9rZW4iLCJnZW5lcmF0ZUF1dGhUb2tlbiIsImNvb2tpZSIsInN0YXR1cyIsInNlbmQiLCJjYXRjaCIsImVycm9yIiwic3RhdHVzQ29kZSIsIm1lc3NhZ2UiLCJyZWdpc3RlclVzZXIiLCJsb2dvdXRVc2VyIiwidmlld0xvYW5zIiwibG9hbnMiLCJhcHBseUxvYW4iLCJ1cGRhdGVDdXN0b21lciIsInVwZGF0ZUN1c3RvbWVyRGV0YWlscyIsInZpZXdDdXN0b21lckRldGFpbHMiLCJjdXN0b21lciIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI0OE5BZVk7MkZBZlosS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsUUFBUSwwQkFBR0QsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUUsQ0FBQUEsTUFBTSwwQkFBR0gsT0FBTyxDQUFDSSxNQUFSLEVBQUgsQ0FBWixDQUVBLEtBQU1DLENBQUFBLEdBQUcsMEJBQUdKLE9BQU8sQ0FBQyxjQUFELENBQVYsQ0FBVCxDQUNBLEtBQU1LLENBQUFBLE9BQU8sMEJBQUdMLE9BQU8sQ0FBQyx3QkFBRCxDQUFWLENBQWIsQ0FDQSxLQUFNTSxDQUFBQSxJQUFJLDBCQUFHTixPQUFPLENBQUMsdUJBQUQsQ0FBVixDQUFWLENBQ0EsS0FBTSxDQUFFTyxJQUFGLDJCQUFZUCxPQUFPLENBQUMsZ0JBQUQsQ0FBbkIsQ0FBTixDQUVBLGNBQWVRLENBQUFBLEtBQWYsQ0FBcUJDLEdBQXJCLENBQTBCQyxHQUExQixDQUE4Qix5QkFFMUIsS0FBTUMsQ0FBQUEsSUFBSSww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SyxPQUFPLENBQUNKLGNBQVIsQ0FBeUJBLGNBQXpCLEMseUJBQ0FJLE9BQU8sQ0FBQ0YsbUJBQVIsQ0FBOEJBLG1CQUE5QiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5jb25zdCBzZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZXMvc2VydmljZS5qcycpO1xyXG5jb25zdCBhdXRoID0gcmVxdWlyZSgnLi4vbWlkZGxld2FyZS9hdXRoLmpzJyk7XHJcbmNvbnN0IHsgVXNlciB9ICA9IHJlcXVpcmUoJy4uL21vZGVscy91c2VyJyk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2dpbihyZXEsIHJlcyl7XHJcbiAgICBcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBzZXJ2aWNlLmxvZ2luVXNlcihyZXEuYm9keSlcclxuICAgIC50aGVuKCh1c2VyKSA9PntcclxuICAgICAgICBjb25zdCB0b2tlbiA9IHVzZXIuZ2VuZXJhdGVBdXRoVG9rZW4oKTtcclxuICAgICAgICByZXMuY29va2llKCdhdXRoLXRva2VuJywgdG9rZW4pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdMb2dpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcik9PntcclxuICAgICAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1c0NvZGUgfHwgNDAwKS5zZW5kKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihyZXEsIHJlcyl7XHJcbiAgICBhd2FpdCBzZXJ2aWNlLnJlZ2lzdGVyVXNlcihyZXEuYm9keSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnVXNlciByZWdpc3RlcmVkJyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzQ29kZSB8fCA0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9nb3V0VXNlcihyZXEsIHJlcyl7XHJcbiAgICByZXMuY29va2llKCdhdXRoLXRva2VuJywgJycpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ1lvdSBoYXZlIGJlZW4gbG9nZ2VkIG91dCcgKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdmlld0xvYW5zKHJlcSwgcmVzKXtcclxuICAgIFxyXG4gICAgY29uc3QgbG9hbnMgPSBhd2FpdCBzZXJ2aWNlLnZpZXdMb2FucyhyZXEudXNlcilcclxuICAgIC50aGVuKChsb2FucykgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGxvYW5zKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhlcnJvci5zdGF0dXNDb2RlIHx8IDQwMCkuc2VuZChlcnJvci5tZXNzYWdlKTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYXBwbHlMb2FuKHJlcSwgcmVzKXtcclxuXHJcbiAgICBhd2FpdCBzZXJ2aWNlLmFwcGx5TG9hbihyZXEuYm9keSwgcmVxLnVzZXIpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ0FwcGxpZWQgZm9yIGxvYW4nKTtcclxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoZXJyb3Iuc3RhdHVzQ29kZSB8fCA0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbWVyKHJlcSwgcmVzKXtcclxuICAgIGF3YWl0IHNlcnZpY2UudXBkYXRlQ3VzdG9tZXJEZXRhaWxzKHJlcS5ib2R5LCByZXEudXNlcilcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnQ3VzdG9tZXIgZGV0YWlscyB1cGRhdGVkJyk7XHJcbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1c0NvZGUgfHwgNDAwKS5zZW5kKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHZpZXdDdXN0b21lckRldGFpbHMocmVxLCByZXMpe1xyXG4gICAgYXdhaXQgc2VydmljZS52aWV3Q3VzdG9tZXJEZXRhaWxzKHJlcS51c2VyKVxyXG4gICAgLnRoZW4oKGN1c3RvbWVyKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoY3VzdG9tZXIpO1xyXG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyhlcnJvci5zdGF0dXNDb2RlIHx8IDQwMCkuc2VuZChlcnJvci5tZXNzYWdlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmxvZ2luID0gbG9naW47XHJcbmV4cG9ydHMucmVnaXN0ZXJVc2VyID0gcmVnaXN0ZXJVc2VyO1xyXG5leHBvcnRzLmxvZ291dFVzZXIgPSBsb2dvdXRVc2VyO1xyXG5leHBvcnRzLnZpZXdMb2FucyA9IHZpZXdMb2FucztcclxuZXhwb3J0cy5hcHBseUxvYW4gPSBhcHBseUxvYW47XHJcbmV4cG9ydHMudXBkYXRlQ3VzdG9tZXIgPSB1cGRhdGVDdXN0b21lcjtcclxuZXhwb3J0cy52aWV3Q3VzdG9tZXJEZXRhaWxzID0gdmlld0N1c3RvbWVyRGV0YWlsczsiXX0=