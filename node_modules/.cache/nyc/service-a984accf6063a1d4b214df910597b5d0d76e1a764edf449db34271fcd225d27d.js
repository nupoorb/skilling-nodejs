function cov_2hd8y4m0mm(){var path="C:\\Users\\910271\\Documents\\Practice\\node\\nodejs-casestudy\\services\\service.js";var hash="82952ff05ed54c8f82dfa78027077de7e564e614";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\910271\\Documents\\Practice\\node\\nodejs-casestudy\\services\\service.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:3,column:14},end:{line:3,column:43}},"3":{start:{line:5,column:19},end:{line:5,column:44}},"4":{start:{line:6,column:18},end:{line:6,column:43}},"5":{start:{line:7,column:22},end:{line:7,column:51}},"6":{start:{line:9,column:18},end:{line:9,column:48}},"7":{start:{line:12,column:22},end:{line:12,column:77}},"8":{start:{line:13,column:4},end:{line:13,column:43}},"9":{start:{line:14,column:4},end:{line:16,column:5}},"10":{start:{line:15,column:8},end:{line:15,column:21}},"11":{start:{line:17,column:4},end:{line:17,column:21}},"12":{start:{line:21,column:22},end:{line:21,column:44}},"13":{start:{line:22,column:4},end:{line:22,column:43}},"14":{start:{line:23,column:4},end:{line:25,column:5}},"15":{start:{line:24,column:8},end:{line:24,column:21}},"16":{start:{line:26,column:26},end:{line:26,column:81}},"17":{start:{line:27,column:4},end:{line:29,column:5}},"18":{start:{line:28,column:8},end:{line:28,column:21}},"19":{start:{line:30,column:4},end:{line:30,column:21}},"20":{start:{line:34,column:20},end:{line:37,column:6}},"21":{start:{line:39,column:17},end:{line:39,column:41}},"22":{start:{line:40,column:4},end:{line:40,column:62}},"23":{start:{line:42,column:19},end:{line:42,column:39}},"24":{start:{line:43,column:4},end:{line:43,column:18}},"25":{start:{line:47,column:24},end:{line:54,column:6}},"26":{start:{line:56,column:19},end:{line:56,column:43}},"27":{start:{line:57,column:4},end:{line:57,column:18}},"28":{start:{line:61,column:17},end:{line:61,column:58}},"29":{start:{line:62,column:4},end:{line:64,column:5}},"30":{start:{line:63,column:8},end:{line:63,column:21}},"31":{start:{line:65,column:4},end:{line:65,column:16}},"32":{start:{line:69,column:24},end:{line:80,column:6}},"33":{start:{line:82,column:19},end:{line:82,column:43}},"34":{start:{line:83,column:4},end:{line:83,column:18}},"35":{start:{line:84,column:4},end:{line:84,column:18}},"36":{start:{line:88,column:24},end:{line:88,column:83}},"37":{start:{line:90,column:4},end:{line:100,column:7}},"38":{start:{line:102,column:19},end:{line:102,column:43}},"39":{start:{line:103,column:4},end:{line:103,column:18}},"40":{start:{line:108,column:21},end:{line:108,column:71}},"41":{start:{line:109,column:4},end:{line:109,column:20}},"42":{start:{line:110,column:4},end:{line:110,column:25}},"43":{start:{line:110,column:18},end:{line:110,column:25}},"44":{start:{line:111,column:4},end:{line:111,column:20}},"45":{start:{line:116,column:22},end:{line:116,column:46}},"46":{start:{line:117,column:4},end:{line:117,column:85}},"47":{start:{line:117,column:24},end:{line:117,column:85}},"48":{start:{line:119,column:17},end:{line:119,column:36}},"49":{start:{line:121,column:4},end:{line:121,column:57}},"50":{start:{line:121,column:14},end:{line:121,column:57}},"51":{start:{line:122,column:4},end:{line:122,column:16}},"52":{start:{line:126,column:22},end:{line:126,column:46}},"53":{start:{line:127,column:4},end:{line:127,column:85}},"54":{start:{line:127,column:24},end:{line:127,column:85}},"55":{start:{line:129,column:17},end:{line:129,column:36}},"56":{start:{line:130,column:4},end:{line:130,column:61}},"57":{start:{line:130,column:13},end:{line:130,column:61}},"58":{start:{line:132,column:18},end:{line:132,column:38}},"59":{start:{line:133,column:4},end:{line:133,column:17}},"60":{start:{line:137,column:18},end:{line:137,column:31}},"61":{start:{line:138,column:4},end:{line:138,column:17}},"62":{start:{line:142,column:22},end:{line:142,column:46}},"63":{start:{line:143,column:4},end:{line:143,column:85}},"64":{start:{line:143,column:24},end:{line:143,column:85}},"65":{start:{line:145,column:4},end:{line:145,column:16}},"66":{start:{line:147,column:15},end:{line:147,column:19}},"67":{start:{line:148,column:4},end:{line:148,column:21}},"68":{start:{line:150,column:18},end:{line:150,column:38}},"69":{start:{line:151,column:4},end:{line:151,column:17}},"70":{start:{line:155,column:22},end:{line:155,column:50}},"71":{start:{line:156,column:4},end:{line:156,column:85}},"72":{start:{line:156,column:24},end:{line:156,column:85}},"73":{start:{line:158,column:19},end:{line:158,column:42}},"74":{start:{line:159,column:4},end:{line:165,column:5}},"75":{start:{line:160,column:8},end:{line:160,column:24}},"76":{start:{line:161,column:8},end:{line:161,column:29}},"77":{start:{line:162,column:8},end:{line:162,column:37}},"78":{start:{line:164,column:8},end:{line:164,column:39}},"79":{start:{line:169,column:20},end:{line:169,column:37}},"80":{start:{line:170,column:4},end:{line:170,column:19}},"81":{start:{line:173,column:0},end:{line:173,column:32}},"82":{start:{line:174,column:0},end:{line:174,column:26}},"83":{start:{line:175,column:0},end:{line:175,column:28}},"84":{start:{line:176,column:0},end:{line:176,column:26}},"85":{start:{line:178,column:0},end:{line:178,column:30}},"86":{start:{line:179,column:0},end:{line:179,column:36}},"87":{start:{line:180,column:0},end:{line:180,column:30}},"88":{start:{line:181,column:0},end:{line:181,column:30}},"89":{start:{line:182,column:0},end:{line:182,column:54}},"90":{start:{line:183,column:0},end:{line:183,column:50}}},fnMap:{"0":{name:"userExists",decl:{start:{line:11,column:15},end:{line:11,column:25}},loc:{start:{line:11,column:31},end:{line:18,column:1}},line:11},"1":{name:"getUser",decl:{start:{line:20,column:15},end:{line:20,column:22}},loc:{start:{line:20,column:28},end:{line:31,column:1}},line:20},"2":{name:"saveUser",decl:{start:{line:33,column:15},end:{line:33,column:23}},loc:{start:{line:33,column:29},end:{line:44,column:1}},line:33},"3":{name:"saveLoan",decl:{start:{line:46,column:15},end:{line:46,column:23}},loc:{start:{line:46,column:30},end:{line:58,column:1}},line:46},"4":{name:"getLoan",decl:{start:{line:60,column:15},end:{line:60,column:22}},loc:{start:{line:60,column:28},end:{line:66,column:1}},line:60},"5":{name:"saveCustomer",decl:{start:{line:68,column:15},end:{line:68,column:27}},loc:{start:{line:68,column:37},end:{line:85,column:1}},line:68},"6":{name:"updateCustomer",decl:{start:{line:87,column:15},end:{line:87,column:29}},loc:{start:{line:87,column:39},end:{line:105,column:1}},line:87},"7":{name:"getCustomer",decl:{start:{line:107,column:15},end:{line:107,column:26}},loc:{start:{line:107,column:32},end:{line:112,column:1}},line:107},"8":{name:"loginUser",decl:{start:{line:115,column:15},end:{line:115,column:24}},loc:{start:{line:115,column:30},end:{line:123,column:1}},line:115},"9":{name:"registerUser",decl:{start:{line:125,column:15},end:{line:125,column:27}},loc:{start:{line:125,column:33},end:{line:134,column:1}},line:125},"10":{name:"viewLoans",decl:{start:{line:136,column:15},end:{line:136,column:24}},loc:{start:{line:136,column:30},end:{line:139,column:1}},line:136},"11":{name:"applyLoan",decl:{start:{line:141,column:15},end:{line:141,column:24}},loc:{start:{line:141,column:36},end:{line:152,column:1}},line:141},"12":{name:"updateCustomerDetails",decl:{start:{line:154,column:15},end:{line:154,column:36}},loc:{start:{line:154,column:48},end:{line:166,column:1}},line:154},"13":{name:"viewCustomerDetails",decl:{start:{line:168,column:15},end:{line:168,column:34}},loc:{start:{line:168,column:40},end:{line:171,column:1}},line:168}},branchMap:{"0":{loc:{start:{line:14,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:16,column:5}},{start:{line:14,column:4},end:{line:16,column:5}}],line:14},"1":{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:23,column:4},end:{line:25,column:5}}],line:23},"2":{loc:{start:{line:27,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:29,column:5}},{start:{line:27,column:4},end:{line:29,column:5}}],line:27},"3":{loc:{start:{line:27,column:7},end:{line:27,column:35}},type:"binary-expr",locations:[{start:{line:27,column:7},end:{line:27,column:17}},{start:{line:27,column:21},end:{line:27,column:35}}],line:27},"4":{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:62,column:4},end:{line:64,column:5}}],line:62},"5":{loc:{start:{line:110,column:4},end:{line:110,column:25}},type:"if",locations:[{start:{line:110,column:4},end:{line:110,column:25}},{start:{line:110,column:4},end:{line:110,column:25}}],line:110},"6":{loc:{start:{line:117,column:4},end:{line:117,column:85}},type:"if",locations:[{start:{line:117,column:4},end:{line:117,column:85}},{start:{line:117,column:4},end:{line:117,column:85}}],line:117},"7":{loc:{start:{line:121,column:4},end:{line:121,column:57}},type:"if",locations:[{start:{line:121,column:4},end:{line:121,column:57}},{start:{line:121,column:4},end:{line:121,column:57}}],line:121},"8":{loc:{start:{line:127,column:4},end:{line:127,column:85}},type:"if",locations:[{start:{line:127,column:4},end:{line:127,column:85}},{start:{line:127,column:4},end:{line:127,column:85}}],line:127},"9":{loc:{start:{line:130,column:4},end:{line:130,column:61}},type:"if",locations:[{start:{line:130,column:4},end:{line:130,column:61}},{start:{line:130,column:4},end:{line:130,column:61}}],line:130},"10":{loc:{start:{line:143,column:4},end:{line:143,column:85}},type:"if",locations:[{start:{line:143,column:4},end:{line:143,column:85}},{start:{line:143,column:4},end:{line:143,column:85}}],line:143},"11":{loc:{start:{line:156,column:4},end:{line:156,column:85}},type:"if",locations:[{start:{line:156,column:4},end:{line:156,column:85}},{start:{line:156,column:4},end:{line:156,column:85}}],line:156},"12":{loc:{start:{line:159,column:4},end:{line:165,column:5}},type:"if",locations:[{start:{line:159,column:4},end:{line:165,column:5}},{start:{line:159,column:4},end:{line:165,column:5}}],line:159}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"82952ff05ed54c8f82dfa78027077de7e564e614"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2hd8y4m0mm=function(){return actualCoverage;};}return actualCoverage;}cov_2hd8y4m0mm();const jwt=(cov_2hd8y4m0mm().s[0]++,require('jsonwebtoken'));const bcrypt=(cov_2hd8y4m0mm().s[1]++,require('bcrypt'));const debug=(cov_2hd8y4m0mm().s[2]++,require('debug')('app:basic'));const userModel=(cov_2hd8y4m0mm().s[3]++,require('../models/user'));const loanModel=(cov_2hd8y4m0mm().s[4]++,require('../models/loan'));const customerModel=(cov_2hd8y4m0mm().s[5]++,require('../models/customer'));const BaseError=(cov_2hd8y4m0mm().s[6]++,require('../middleware/error'));async function userExists(user){cov_2hd8y4m0mm().f[0]++;const foundUser=(cov_2hd8y4m0mm().s[7]++,await userModel.User.findOne({username:user.username}));cov_2hd8y4m0mm().s[8]++;console.log('foundUser: '+foundUser);cov_2hd8y4m0mm().s[9]++;if(!foundUser){cov_2hd8y4m0mm().b[0][0]++;cov_2hd8y4m0mm().s[10]++;return false;}else{cov_2hd8y4m0mm().b[0][1]++;}cov_2hd8y4m0mm().s[11]++;return foundUser;}async function getUser(user){cov_2hd8y4m0mm().f[1]++;const foundUser=(cov_2hd8y4m0mm().s[12]++,await userExists(user));cov_2hd8y4m0mm().s[13]++;console.log('foundUser: '+foundUser);cov_2hd8y4m0mm().s[14]++;if(!foundUser){cov_2hd8y4m0mm().b[1][0]++;cov_2hd8y4m0mm().s[15]++;return false;}else{cov_2hd8y4m0mm().b[1][1]++;}const validPassword=(cov_2hd8y4m0mm().s[16]++,await bcrypt.compare(user.password,foundUser.password));cov_2hd8y4m0mm().s[17]++;if((cov_2hd8y4m0mm().b[3][0]++,!foundUser)||(cov_2hd8y4m0mm().b[3][1]++,!validPassword)){cov_2hd8y4m0mm().b[2][0]++;cov_2hd8y4m0mm().s[18]++;return false;}else{cov_2hd8y4m0mm().b[2][1]++;}cov_2hd8y4m0mm().s[19]++;return foundUser;}async function saveUser(user){cov_2hd8y4m0mm().f[2]++;const newUser=(cov_2hd8y4m0mm().s[20]++,new userModel.User({username:user.username,password:user.password}));const salt=(cov_2hd8y4m0mm().s[21]++,await bcrypt.genSalt(10));cov_2hd8y4m0mm().s[22]++;newUser.password=await bcrypt.hash(user.password,salt);const result=(cov_2hd8y4m0mm().s[23]++,await newUser.save());cov_2hd8y4m0mm().s[24]++;return result;}async function saveLoan(loan){cov_2hd8y4m0mm().f[3]++;const appliedLoan=(cov_2hd8y4m0mm().s[25]++,new loanModel.Loan({user:loan.user,loan_type:loan.loan_type,loan_amount:loan.loan_amount,date:loan.date,interest:loan.interest,duration:loan.duration}));const result=(cov_2hd8y4m0mm().s[26]++,await appliedLoan.save());cov_2hd8y4m0mm().s[27]++;debug(result);}async function getLoan(user){cov_2hd8y4m0mm().f[4]++;const loan=(cov_2hd8y4m0mm().s[28]++,await loanModel.Loan.find({user:user}));cov_2hd8y4m0mm().s[29]++;if(!loan){cov_2hd8y4m0mm().b[4][0]++;cov_2hd8y4m0mm().s[30]++;return false;}else{cov_2hd8y4m0mm().b[4][1]++;}cov_2hd8y4m0mm().s[31]++;return loan;}async function saveCustomer(customer){cov_2hd8y4m0mm().f[5]++;const newCustomer=(cov_2hd8y4m0mm().s[32]++,new customerModel.Customer({user:customer.user,name:customer.name,address:customer.address,state:customer.state,country:customer.country,email:customer.email,pan:customer.pan,contact:customer.contact,dob:customer.dob,account_type:customer.account_type}));const result=(cov_2hd8y4m0mm().s[33]++,await newCustomer.save());cov_2hd8y4m0mm().s[34]++;debug(result);cov_2hd8y4m0mm().s[35]++;return result;}async function updateCustomer(customer){cov_2hd8y4m0mm().f[6]++;const oldCustomer=(cov_2hd8y4m0mm().s[36]++,await customerModel.Customer.findOne({user:customer.user}));cov_2hd8y4m0mm().s[37]++;oldCustomer.set({name:customer.name,address:customer.address,state:customer.state,country:customer.country,email:customer.email,pan:customer.pan,contact:customer.contact,dob:customer.dob,account_type:customer.account_type});const result=(cov_2hd8y4m0mm().s[38]++,await oldCustomer.save());cov_2hd8y4m0mm().s[39]++;debug(result);}async function getCustomer(user){cov_2hd8y4m0mm().f[7]++;const customer=(cov_2hd8y4m0mm().s[40]++,await customerModel.Customer.findOne({user:user}));cov_2hd8y4m0mm().s[41]++;debug(customer);cov_2hd8y4m0mm().s[42]++;if(!customer){cov_2hd8y4m0mm().b[5][0]++;cov_2hd8y4m0mm().s[43]++;return;}else{cov_2hd8y4m0mm().b[5][1]++;}cov_2hd8y4m0mm().s[44]++;return customer;}async function loginUser(body){cov_2hd8y4m0mm().f[8]++;const validated=(cov_2hd8y4m0mm().s[45]++,userModel.validate(body));cov_2hd8y4m0mm().s[46]++;if(validated.error){cov_2hd8y4m0mm().b[6][0]++;cov_2hd8y4m0mm().s[47]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[6][1]++;}const user=(cov_2hd8y4m0mm().s[48]++,await getUser(body));cov_2hd8y4m0mm().s[49]++;if(!user){cov_2hd8y4m0mm().b[7][0]++;cov_2hd8y4m0mm().s[50]++;throw new BaseError(401,'User not found');}else{cov_2hd8y4m0mm().b[7][1]++;}cov_2hd8y4m0mm().s[51]++;return user;}async function registerUser(body){cov_2hd8y4m0mm().f[9]++;const validated=(cov_2hd8y4m0mm().s[52]++,userModel.validate(body));cov_2hd8y4m0mm().s[53]++;if(validated.error){cov_2hd8y4m0mm().b[8][0]++;cov_2hd8y4m0mm().s[54]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[8][1]++;}const user=(cov_2hd8y4m0mm().s[55]++,await getUser(body));cov_2hd8y4m0mm().s[56]++;if(user){cov_2hd8y4m0mm().b[9][0]++;cov_2hd8y4m0mm().s[57]++;throw new BaseError(400,'User already exists');}else{cov_2hd8y4m0mm().b[9][1]++;}const saved=(cov_2hd8y4m0mm().s[58]++,await saveUser(body));cov_2hd8y4m0mm().s[59]++;return saved;}async function viewLoans(body){cov_2hd8y4m0mm().f[10]++;const loans=(cov_2hd8y4m0mm().s[60]++,getLoan(body));cov_2hd8y4m0mm().s[61]++;return loans;}async function applyLoan(body,user){cov_2hd8y4m0mm().f[11]++;const validated=(cov_2hd8y4m0mm().s[62]++,loanModel.validate(body));cov_2hd8y4m0mm().s[63]++;if(validated.error){cov_2hd8y4m0mm().b[10][0]++;cov_2hd8y4m0mm().s[64]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[10][1]++;}cov_2hd8y4m0mm().s[65]++;debug(user);let loan=(cov_2hd8y4m0mm().s[66]++,body);cov_2hd8y4m0mm().s[67]++;loan.user=user;const saved=(cov_2hd8y4m0mm().s[68]++,await saveLoan(loan));cov_2hd8y4m0mm().s[69]++;return saved;}async function updateCustomerDetails(body,user){cov_2hd8y4m0mm().f[12]++;const validated=(cov_2hd8y4m0mm().s[70]++,customerModel.validate(body));cov_2hd8y4m0mm().s[71]++;if(validated.error){cov_2hd8y4m0mm().b[11][0]++;cov_2hd8y4m0mm().s[72]++;throw new BaseError(400,validated.error.details[0].message);}else{cov_2hd8y4m0mm().b[11][1]++;}let customer=(cov_2hd8y4m0mm().s[73]++,await getCustomer(user));cov_2hd8y4m0mm().s[74]++;if(!customer){cov_2hd8y4m0mm().b[12][0]++;cov_2hd8y4m0mm().s[75]++;customer=body;cov_2hd8y4m0mm().s[76]++;customer.user=user;cov_2hd8y4m0mm().s[77]++;await saveCustomer(customer);}else{cov_2hd8y4m0mm().b[12][1]++;cov_2hd8y4m0mm().s[78]++;await updateCustomer(customer);}}async function viewCustomerDetails(user){cov_2hd8y4m0mm().f[13]++;const details=(cov_2hd8y4m0mm().s[79]++,getCustomer(user));cov_2hd8y4m0mm().s[80]++;return details;}cov_2hd8y4m0mm().s[81]++;exports.userExists=userExists;cov_2hd8y4m0mm().s[82]++;exports.getUser=getUser;cov_2hd8y4m0mm().s[83]++;exports.saveUser=saveUser;cov_2hd8y4m0mm().s[84]++;exports.getLoan=getLoan;cov_2hd8y4m0mm().s[85]++;exports.loginUser=loginUser;cov_2hd8y4m0mm().s[86]++;exportegisterUss.rer=registerUser;cov_2hd8y4m0mm().s[87]++;exports.viewLoans=viewLoans;cov_2hd8y4m0mm().s[88]++;exports.applyLoan=applyLoan;cov_2hd8y4m0mm().s[89]++;exports.updateCustomerDetails=updateCustomerDetails;cov_2hd8y4m0mm().s[90]++;exports.viewCustomerDetails=viewCustomerDetails;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2UuanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsImJjcnlwdCIsImRlYnVnIiwidXNlck1vZGVsIiwibG9hbk1vZGVsIiwiY3VzdG9tZXJNb2RlbCIsIkJhc2VFcnJvciIsInVzZXJFeGlzdHMiLCJ1c2VyIiwiZm91bmRVc2VyIiwiVXNlciIsImZpbmRPbmUiLCJ1c2VybmFtZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRVc2VyIiwidmFsaWRQYXNzd29yZCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInNhdmVVc2VyIiwibmV3VXNlciIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsInJlc3VsdCIsInNhdmUiLCJzYXZlTG9hbiIsImxvYW4iLCJhcHBsaWVkTG9hbiIsIkxvYW4iLCJsb2FuX3R5cGUiLCJsb2FuX2Ftb3VudCIsImRhdGUiLCJpbnRlcmVzdCIsImR1cmF0aW9uIiwiZ2V0TG9hbiIsImZpbmQiLCJzYXZlQ3VzdG9tZXIiLCJjdXN0b21lciIsIm5ld0N1c3RvbWVyIiwiQ3VzdG9tZXIiLCJuYW1lIiwiYWRkcmVzcyIsInN0YXRlIiwiY291bnRyeSIsImVtYWlsIiwicGFuIiwiY29udGFjdCIsImRvYiIsImFjY291bnRfdHlwZSIsInVwZGF0ZUN1c3RvbWVyIiwib2xkQ3VzdG9tZXIiLCJzZXQiLCJnZXRDdXN0b21lciIsImxvZ2luVXNlciIsImJvZHkiLCJ2YWxpZGF0ZWQiLCJ2YWxpZGF0ZSIsImVycm9yIiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJyZWdpc3RlclVzZXIiLCJzYXZlZCIsInZpZXdMb2FucyIsImxvYW5zIiwiYXBwbHlMb2FuIiwidXBkYXRlQ3VzdG9tZXJEZXRhaWxzIiwidmlld0N1c3RvbWVyRGV0YWlscyIsImV4cG9ydHMiLCJleHBvcnRlZ2lzdGVyVXNzIiwicmVyIl0sIm1hcHBpbmdzIjoidWxXQWVZOzJGQWZaLEtBQU1BLENBQUFBLEdBQUcsMEJBQUdDLE9BQU8sQ0FBQyxjQUFELENBQVYsQ0FBVCxDQUNBLEtBQU1D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QUFDakMsT0FBUixDQUFrQkEsT0FBbEIsQyx5QkFFQWlDLE9BQU8sQ0FBQ2QsU0FBUixDQUFvQkEsU0FBcEIsQyx5QkFDQWUsZ0JBQWdCLENBQUNDLEdBQWpCLENBQXVCVCxZQUF2QixDLHlCQUNBTyxPQUFPLENBQUNMLFNBQVIsQ0FBb0JBLFNBQXBCLEMseUJBQ0FLLE9BQU8sQ0FBQ0gsU0FBUixDQUFvQkEsU0FBcEIsQyx5QkFDQUcsT0FBTyxDQUFDRixxQkFBUixDQUFnQ0EscUJBQWhDLEMseUJBQ0FFLE9BQU8sQ0FBQ0QsbUJBQVIsQ0FBOEJBLG1CQUE5QiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcclxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdhcHA6YmFzaWMnKTtcclxuXHJcbmNvbnN0IHVzZXJNb2RlbCAgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlcicpO1xyXG5jb25zdCBsb2FuTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvbG9hbicpO1xyXG5jb25zdCBjdXN0b21lck1vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL2N1c3RvbWVyJyk7XHJcblxyXG5jb25zdCBCYXNlRXJyb3IgPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2Vycm9yJyk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1c2VyRXhpc3RzKHVzZXIpe1xyXG4gICAgY29uc3QgZm91bmRVc2VyID0gYXdhaXQgdXNlck1vZGVsLlVzZXIuZmluZE9uZSh7dXNlcm5hbWU6IHVzZXIudXNlcm5hbWV9KTtcclxuICAgIGNvbnNvbGUubG9nKCdmb3VuZFVzZXI6ICcgKyBmb3VuZFVzZXIpO1xyXG4gICAgaWYoIWZvdW5kVXNlcil7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvdW5kVXNlcjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcih1c2VyKXtcclxuICAgIGNvbnN0IGZvdW5kVXNlciA9IGF3YWl0IHVzZXJFeGlzdHModXNlcik7XHJcbiAgICBjb25zb2xlLmxvZygnZm91bmRVc2VyOiAnICsgZm91bmRVc2VyKTtcclxuICAgIGlmKCFmb3VuZFVzZXIpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHZhbGlkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZSh1c2VyLnBhc3N3b3JkLCBmb3VuZFVzZXIucGFzc3dvcmQpO1xyXG4gICAgaWYoIWZvdW5kVXNlciB8fCAhdmFsaWRQYXNzd29yZCl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvdW5kVXNlcjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcil7XHJcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IHVzZXJNb2RlbC5Vc2VyKHtcclxuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gICAgbmV3VXNlci5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsIHNhbHQpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ld1VzZXIuc2F2ZSgpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2F2ZUxvYW4obG9hbikge1xyXG4gICAgY29uc3QgYXBwbGllZExvYW4gPSBuZXcgbG9hbk1vZGVsLkxvYW4oe1xyXG4gICAgICAgIHVzZXI6IGxvYW4udXNlcixcclxuICAgICAgICBsb2FuX3R5cGU6IGxvYW4ubG9hbl90eXBlLFxyXG4gICAgICAgIGxvYW5fYW1vdW50OiBsb2FuLmxvYW5fYW1vdW50LFxyXG4gICAgICAgIGRhdGU6IGxvYW4uZGF0ZSxcclxuICAgICAgICBpbnRlcmVzdDogbG9hbi5pbnRlcmVzdCxcclxuICAgICAgICBkdXJhdGlvbjogbG9hbi5kdXJhdGlvblxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwbGllZExvYW4uc2F2ZSgpO1xyXG4gICAgZGVidWcocmVzdWx0KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0TG9hbih1c2VyKXtcclxuICAgIGNvbnN0IGxvYW4gPSBhd2FpdCBsb2FuTW9kZWwuTG9hbi5maW5kKHsgdXNlcjogdXNlciB9KTtcclxuICAgIGlmKCFsb2FuKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbG9hbjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2F2ZUN1c3RvbWVyKGN1c3RvbWVyKXtcclxuICAgIGNvbnN0IG5ld0N1c3RvbWVyID0gbmV3IGN1c3RvbWVyTW9kZWwuQ3VzdG9tZXIoe1xyXG4gICAgICAgIHVzZXI6IGN1c3RvbWVyLnVzZXIsXHJcbiAgICAgICAgbmFtZTogY3VzdG9tZXIubmFtZSxcclxuICAgICAgICBhZGRyZXNzOiBjdXN0b21lci5hZGRyZXNzLFxyXG4gICAgICAgIHN0YXRlOiBjdXN0b21lci5zdGF0ZSxcclxuICAgICAgICBjb3VudHJ5OiBjdXN0b21lci5jb3VudHJ5LFxyXG4gICAgICAgIGVtYWlsOiBjdXN0b21lci5lbWFpbCxcclxuICAgICAgICBwYW46IGN1c3RvbWVyLnBhbixcclxuICAgICAgICBjb250YWN0OiBjdXN0b21lci5jb250YWN0LFxyXG4gICAgICAgIGRvYjogY3VzdG9tZXIuZG9iLFxyXG4gICAgICAgIGFjY291bnRfdHlwZTogY3VzdG9tZXIuYWNjb3VudF90eXBlXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdDdXN0b21lci5zYXZlKCk7XHJcbiAgICBkZWJ1ZyhyZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXIoY3VzdG9tZXIpe1xyXG4gICAgY29uc3Qgb2xkQ3VzdG9tZXIgPSBhd2FpdCBjdXN0b21lck1vZGVsLkN1c3RvbWVyLmZpbmRPbmUoe3VzZXI6IGN1c3RvbWVyLnVzZXJ9KTtcclxuXHJcbiAgICBvbGRDdXN0b21lci5zZXQoe1xyXG4gICAgICAgIG5hbWU6IGN1c3RvbWVyLm5hbWUsXHJcbiAgICAgICAgYWRkcmVzczogY3VzdG9tZXIuYWRkcmVzcyxcclxuICAgICAgICBzdGF0ZTogY3VzdG9tZXIuc3RhdGUsXHJcbiAgICAgICAgY291bnRyeTogY3VzdG9tZXIuY291bnRyeSxcclxuICAgICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXHJcbiAgICAgICAgcGFuOiBjdXN0b21lci5wYW4sXHJcbiAgICAgICAgY29udGFjdDogY3VzdG9tZXIuY29udGFjdCxcclxuICAgICAgICBkb2I6IGN1c3RvbWVyLmRvYixcclxuICAgICAgICBhY2NvdW50X3R5cGU6IGN1c3RvbWVyLmFjY291bnRfdHlwZVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb2xkQ3VzdG9tZXIuc2F2ZSgpO1xyXG4gICAgZGVidWcocmVzdWx0KTtcclxuXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvbWVyKHVzZXIpe1xyXG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBjdXN0b21lck1vZGVsLkN1c3RvbWVyLmZpbmRPbmUoe3VzZXI6IHVzZXJ9KTtcclxuICAgIGRlYnVnKGN1c3RvbWVyKTtcclxuICAgIGlmKCFjdXN0b21lcikgcmV0dXJuO1xyXG4gICAgcmV0dXJuIGN1c3RvbWVyO1xyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9naW5Vc2VyKGJvZHkpe1xyXG4gICAgY29uc3QgdmFsaWRhdGVkID0gdXNlck1vZGVsLnZhbGlkYXRlKGJvZHkpO1xyXG4gICAgaWYodmFsaWRhdGVkLmVycm9yKSB0aHJvdyBuZXcgQmFzZUVycm9yKDQwMCwgdmFsaWRhdGVkLmVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyKGJvZHkpO1xyXG5cclxuICAgIGlmKCF1c2VyKSB0aHJvdyBuZXcgQmFzZUVycm9yKDQwMSwgJ1VzZXIgbm90IGZvdW5kJyk7XHJcbiAgICByZXR1cm4gdXNlcjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKGJvZHkpe1xyXG4gICAgY29uc3QgdmFsaWRhdGVkID0gdXNlck1vZGVsLnZhbGlkYXRlKGJvZHkpO1xyXG4gICAgaWYodmFsaWRhdGVkLmVycm9yKSB0aHJvdyBuZXcgQmFzZUVycm9yKDQwMCwgdmFsaWRhdGVkLmVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXIoYm9keSk7XHJcbiAgICBpZih1c2VyKSB0aHJvdyBuZXcgQmFzZUVycm9yKDQwMCwgJ1VzZXIgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCBzYXZlVXNlcihib2R5KTtcclxuICAgIHJldHVybiBzYXZlZDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdmlld0xvYW5zKGJvZHkpe1xyXG4gICAgY29uc3QgbG9hbnMgPSBnZXRMb2FuKGJvZHkpO1xyXG4gICAgcmV0dXJuIGxvYW5zO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBhcHBseUxvYW4oYm9keSwgdXNlcil7XHJcbiAgICBjb25zdCB2YWxpZGF0ZWQgPSBsb2FuTW9kZWwudmFsaWRhdGUoYm9keSk7XHJcbiAgICBpZih2YWxpZGF0ZWQuZXJyb3IpIHRocm93IG5ldyBCYXNlRXJyb3IoNDAwLCB2YWxpZGF0ZWQuZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcclxuXHJcbiAgICBkZWJ1Zyh1c2VyKTtcclxuXHJcbiAgICBsZXQgbG9hbiA9IGJvZHk7XHJcbiAgICBsb2FuLnVzZXIgPSB1c2VyO1xyXG5cclxuICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZUxvYW4obG9hbik7XHJcbiAgICByZXR1cm4gc2F2ZWQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbWVyRGV0YWlscyhib2R5LCB1c2VyKXtcclxuICAgIGNvbnN0IHZhbGlkYXRlZCA9IGN1c3RvbWVyTW9kZWwudmFsaWRhdGUoYm9keSk7XHJcbiAgICBpZih2YWxpZGF0ZWQuZXJyb3IpIHRocm93IG5ldyBCYXNlRXJyb3IoNDAwLCB2YWxpZGF0ZWQuZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcclxuXHJcbiAgICBsZXQgY3VzdG9tZXIgPSBhd2FpdCBnZXRDdXN0b21lcih1c2VyKTtcclxuICAgIGlmKCFjdXN0b21lcil7XHJcbiAgICAgICAgY3VzdG9tZXIgPSBib2R5O1xyXG4gICAgICAgIGN1c3RvbWVyLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgIGF3YWl0IHNhdmVDdXN0b21lcihjdXN0b21lcik7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBhd2FpdCB1cGRhdGVDdXN0b21lcihjdXN0b21lcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHZpZXdDdXN0b21lckRldGFpbHModXNlcil7XHJcbiAgICBjb25zdCBkZXRhaWxzID0gZ2V0Q3VzdG9tZXIodXNlcik7XHJcbiAgICByZXR1cm4gZGV0YWlscztcclxufVxyXG5cclxuZXhwb3J0cy51c2VyRXhpc3RzID0gdXNlckV4aXN0cztcclxuZXhwb3J0cy5nZXRVc2VyID0gZ2V0VXNlcjtcclxuZXhwb3J0cy5zYXZlVXNlciA9IHNhdmVVc2VyO1xyXG5leHBvcnRzLmdldExvYW4gPSBnZXRMb2FuO1xyXG5cclxuZXhwb3J0cy5sb2dpblVzZXIgPSBsb2dpblVzZXI7XHJcbmV4cG9ydGVnaXN0ZXJVc3MucmVyID0gcmVnaXN0ZXJVc2VyO1xyXG5leHBvcnRzLnZpZXdMb2FucyA9IHZpZXdMb2FucztcclxuZXhwb3J0cy5hcHBseUxvYW4gPSBhcHBseUxvYW47XHJcbmV4cG9ydHMudXBkYXRlQ3VzdG9tZXJEZXRhaWxzID0gdXBkYXRlQ3VzdG9tZXJEZXRhaWxzO1xyXG5leHBvcnRzLnZpZXdDdXN0b21lckRldGFpbHMgPSB2aWV3Q3VzdG9tZXJEZXRhaWxzOyJdfQ==